{"mappings":"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","sources":["src/index.js","src/partials/search-params.js","src/partials/generate-content.js","src/partials/scroll.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport axios from 'axios';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { emptySearch, endSearch, onSubmit } from './partials/search-params';\nimport { insertContent, lightbox } from './partials/generate-content';\nimport { goToTop, scrolling } from './partials/scroll';\n\nexport let currentPage;\nexport const API_KEY = 'key=34409732-2eb98e59aad866aa53f09776f';\nexport const BASE_URL = 'https://pixabay.com/api/';\nexport const PARAMS =\n  '&image_type=photo&orientation=horizontal&safesearch=true&per_page=40';\n\nexport const refs = {\n  input: document.querySelector('input'),\n  form: document.querySelector('.search-form'),\n  gallery: document.querySelector('.gallery'),\n  load: document.querySelector('.load-more'),\n  searchBar: document.querySelector('.full-search'),\n  top: document.querySelector('.back-to-top'),\n  sorting: document.querySelector('.sorting'),\n  sortlabel: document.querySelector('.sort-label'),\n};\n\nconst getPhotos = async e => {\n  e.preventDefault();\n  Notiflix.Loading.standard({\n    backgroundColor: 'transparent',\n    cssAnimationDuration: 800,\n  });\n  const search = refs.input.value;\n  const order = refs.sorting.value;\n\n  e.type === 'submit' || e.type === 'change' ? onSubmit() : (currentPage += 1);\n\n  try {\n    const response = await axios.get(\n      `${BASE_URL}?${API_KEY}${PARAMS}&q=${search}&page=${currentPage}&order=${order}`\n    );\n\n    refs.load.classList.remove('hide');\n\n    response.data.total == 0 ? emptySearch() : '';\n\n    e.type === 'submit' && response.data.total !== 0\n      ? Notiflix.Notify.success(\n          `Hooray! We found ${response.data.totalHits} images.`\n        )\n      : '';\n\n    currentPage > response.data.totalHits / 40 && response.data.total !== 0\n      ? endSearch()\n      : '';\n\n    insertContent(response.data.hits);\n    lightbox.refresh();\n\n    e.type === 'click' ? scrolling() : '';\n  } catch (error) {\n    console.log(error);\n  } finally {\n    Notiflix.Loading.remove();\n  }\n};\n\nrefs.top.addEventListener('click', goToTop);\nrefs.form.addEventListener('submit', getPhotos);\nrefs.load.addEventListener('click', getPhotos);\nrefs.sorting.addEventListener('change', getPhotos);\n","import { refs } from '..';\nimport Notiflix from 'notiflix';\n\nexport function emptySearch() {\n  refs.load.classList.add('hide');\n  Notiflix.Notify.warning(\n    'Sorry, there are no images matching your search query. Please try again.'\n  );\n}\n\nexport function endSearch() {\n  refs.load.classList.add('hide');\n  Notiflix.Notify.info(\n    \"We're sorry, but you've reached the end of search results.\"\n  );\n}\n\nexport function onSubmit() {\n  refs.gallery.innerHTML = '';\n  let currentPage = 1;\n  refs.searchBar.classList.remove('full-search');\n  refs.sortlabel.classList.remove('hide');\n}\n","import { refs } from '..';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const createLi = item =>\n  `<div class=\"photo-card\" data-id=\"${item.id}\">\n  <button class=\"save\" onclick=\"onClickSave()\"></button>\n  <a href=\"${item.largeImageURL}\">\n  <img src=\"${item.webformatURL}\" alt=\"${item.tags}\" loading=\"lazy\" width=\"320\" height=\"200\"/>\n  <div class=\"info\">\n  \n    <p class=\"info-item\">\n      <b>Likes</b>${item.likes}\n    </p>\n    <p class=\"info-item\">\n      <b>Views</b>${item.views}\n    </p>\n    <p class=\"info-item\">\n      <b>Comments</b>${item.comments}\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads</b>${item.downloads}\n    </p>\n  </div>\n  </a>\n</div>`;\n\nexport const generateContent = array =>\n  array.reduce((acc, item) => acc + createLi(item), '');\n\nexport const insertContent = array => {\n  const result = generateContent(array);\n  refs.gallery.insertAdjacentHTML('beforeend', result);\n};\n\nexport const lightbox = new SimpleLightbox('.photo-card a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});","import { refs } from '..';\n\nexport function scrolling() {\n  const { height: cardHeight } = document\n    .querySelector('.gallery')\n    .firstElementChild.getBoundingClientRect();\n\n  window.scrollBy({\n    top: cardHeight * 2,\n    behavior: 'smooth',\n  });\n}\n\nexport const showOnPx = 100;\n\nexport const scrollContainer = () => {\n  return document.documentElement || document.body;\n};\n\nexport const scrollEvent = document.addEventListener('scroll', () => {\n  if (scrollContainer().scrollTop > showOnPx) {\n    refs.top.classList.remove('hidden');\n  } else {\n    refs.top.classList.add('hidden');\n  }\n});\n\nexport const goToTop = () => {\n  document.body.scrollIntoView({\n    behavior: 'smooth',\n  });\n};\n"],"names":["$bpxeT","parcelRequire","$763ba02b95b91f4a$export$307d29742c654737","$b8f9b7833fa37166$export$21666b427502ea6d","gallery","innerHTML","searchBar","classList","remove","sortlabel","$46ce9a0ee8e5be21$export$c2b330519424b9e8","$parcel$interopDefault","$5IjG7","captionsData","captionDelay","document","addEventListener","documentElement","body","scrollTop","top","add","$b8f9b7833fa37166$export$385972cd6b54c3e1","input","querySelector","form","load","sorting","$b8f9b7833fa37166$var$getPhotos","$2TvXO","mark","_callee","e","search","order","response","preventDefault","$6JpON","Loading","standard","backgroundColor","cssAnimationDuration","value","type","$dIxxU","default","get","concat","_ctx","sent","data","total","Notify","warning","success","totalHits","info","array","hits","result","reduce","acc","item","id","largeImageURL","webformatURL","tags","likes","views","comments","downloads","$46ce9a0ee8e5be21$export$5c8f7bec9aa9905b","$46ce9a0ee8e5be21$export$4edbeb3aa79c6b8a","insertAdjacentHTML","refresh","cardHeight","firstElementChild","getBoundingClientRect","height","window","scrollBy","behavior","console","log","t0","scrollIntoView"],"version":3,"file":"index.5af7f61d.js.map"}