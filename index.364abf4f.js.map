{"mappings":"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","sources":["src/index.js","src/partials/generate-content.js","src/partials/scroll.js","src/partials/search-params.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport axios from 'axios';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { emptySearch, endSearch, onSubmit } from './partials/search-params';\nimport { insertContent, lightbox } from './partials/generate-content';\nimport { goToTop, scrolling } from './partials/scroll';\n\nlet currentPage;\nexport const API_KEY = 'key=34409732-2eb98e59aad866aa53f09776f';\nexport const BASE_URL = 'https://pixabay.com/api/';\nexport const PARAMS =\n  '&image_type=photo&orientation=horizontal&safesearch=true&per_page=40';\n\nexport const refs = {\n  input: document.querySelector('input'),\n  form: document.querySelector('.search-form'),\n  gallery: document.querySelector('.gallery'),\n  load: document.querySelector('.load-more'),\n  searchBar: document.querySelector('.full-search'),\n  top: document.querySelector('.back-to-top'),\n  sorting: document.querySelector('.sorting'),\n  sortlabel: document.querySelector('.sort-label'),\n};\n\nconst getPhotos = async e => {\n  e.preventDefault();\n  Notiflix.Loading.standard({\n    backgroundColor: 'transparent',\n    cssAnimationDuration: 800,\n  });\n  const search = refs.input.value;\n  const order = refs.sorting.value;\n\n  e.type === 'submit' || e.type === 'change' ? onSubmit() : (currentPage += 1);\n\n  try {\n    const response = await axios.get(\n      `${BASE_URL}?${API_KEY}${PARAMS}&q=${search}&page=${currentPage}&order=${order}`\n    );\n\n    refs.load.classList.remove('hide');\n\n    response.data.total == 0 ? emptySearch() : '';\n\n    e.type === 'submit' && response.data.total !== 0\n      ? Notiflix.Notify.success(\n          `Hooray! We found ${response.data.totalHits} images.`\n        )\n      : '';\n\n    currentPage > response.data.totalHits / 40 && response.data.total !== 0\n      ? endSearch()\n      : '';\n\n    insertContent(response.data.hits);\n    lightbox.refresh();\n\n    e.type === 'click' ? scrolling() : '';\n  } catch (error) {\n    console.log(error);\n  } finally {\n    Notiflix.Loading.remove();\n  }\n};\n\nrefs.top.addEventListener('click', goToTop);\nrefs.form.addEventListener('submit', getPhotos);\nrefs.load.addEventListener('click', getPhotos);\nrefs.sorting.addEventListener('change', getPhotos);\n","import { refs } from '..';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\nexport const createLi = item =>\n  `<div class=\"photo-card\" data-id=\"${item.id}\">\n  <button class=\"save\" onclick=\"onClickSave()\"></button>\n  <a href=\"${item.largeImageURL}\">\n  <img src=\"${item.webformatURL}\" alt=\"${item.tags}\" loading=\"lazy\" width=\"320\" height=\"200\"/>\n  <div class=\"info\">\n  \n    <p class=\"info-item\">\n      <b>Likes</b>${item.likes}\n    </p>\n    <p class=\"info-item\">\n      <b>Views</b>${item.views}\n    </p>\n    <p class=\"info-item\">\n      <b>Comments</b>${item.comments}\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads</b>${item.downloads}\n    </p>\n  </div>\n  </a>\n</div>`;\n\nexport const generateContent = array =>\n  array.reduce((acc, item) => acc + createLi(item), '');\n\nexport const insertContent = array => {\n  const result = generateContent(array);\n  refs.gallery.insertAdjacentHTML('beforeend', result);\n};\n\nexport const lightbox = new SimpleLightbox('.photo-card a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});","import { refs } from '..';\n\nexport function scrolling() {\n  const { height: cardHeight } = document\n    .querySelector('.gallery')\n    .firstElementChild.getBoundingClientRect();\n\n  window.scrollBy({\n    top: cardHeight * 2,\n    behavior: 'smooth',\n  });\n}\n\nexport const showOnPx = 100;\n\nexport const scrollContainer = () => {\n  return document.documentElement || document.body;\n};\n\nexport const scrollEvent = document.addEventListener('scroll', () => {\n  if (scrollContainer().scrollTop > showOnPx) {\n    refs.top.classList.remove('hidden');\n  } else {\n    refs.top.classList.add('hidden');\n  }\n});\n\nexport const goToTop = () => {\n  document.body.scrollIntoView({\n    behavior: 'smooth',\n  });\n};\n","import { refs } from '..';\nimport Notiflix from 'notiflix';\n\nexport function emptySearch() {\n  refs.load.classList.add('hide');\n  Notiflix.Notify.warning(\n    'Sorry, there are no images matching your search query. Please try again.'\n  );\n}\n\nexport function endSearch() {\n  refs.load.classList.add('hide');\n  Notiflix.Notify.info(\n    \"We're sorry, but you've reached the end of search results.\"\n  );\n}\n\nexport function onSubmit() {\n  refs.gallery.innerHTML = '';\n  currentPage = 1;\n  refs.searchBar.classList.remove('full-search');\n  refs.sortlabel.classList.remove('hide');\n}\n"],"names":["$bpxeT","parcelRequire","$46ce9a0ee8e5be21$export$c2b330519424b9e8","$parcel$interopDefault","$5IjG7","captionsData","captionDelay","document","addEventListener","documentElement","body","scrollTop","$b8f9b7833fa37166$export$21666b427502ea6d","top","classList","remove","add","$b8f9b7833fa37166$var$currentPage","input","querySelector","form","gallery","load","searchBar","sorting","sortlabel","$b8f9b7833fa37166$var$getPhotos","$2TvXO","mark","_callee","e","search","order","response","preventDefault","$6JpON","Loading","standard","backgroundColor","cssAnimationDuration","value","type","innerHTML","currentPage","$dIxxU","default","get","concat","_ctx","sent","data","total","Notify","warning","success","totalHits","info","array","hits","result","reduce","acc","item","id","largeImageURL","webformatURL","tags","likes","views","comments","downloads","$46ce9a0ee8e5be21$export$5c8f7bec9aa9905b","$46ce9a0ee8e5be21$export$4edbeb3aa79c6b8a","insertAdjacentHTML","refresh","cardHeight","firstElementChild","getBoundingClientRect","height","window","scrollBy","behavior","console","log","t0","scrollIntoView"],"version":3,"file":"index.364abf4f.js.map"}